/*
 Copyright (c) 2017, Nazar Mokrynskyi
 @license   MIT License, see license.txt
*/
(function(){function c(){if(!(this instanceof c))return new c;this.a={}}c.prototype={on:function(a,b){var d;a&&b&&((d=this.a)[a]||(d[a]=[])).push(b);return this},off:function(a,b){(a=this.a[a])&&a.splice(a.indexOf(b),b?1:a.length);return this},once:function(a,b){var d=this;if(a&&b){var c=function(){d.b(a,c);return b.apply(null,arguments)};this.c(a,c)}return this},fire:function(a,b){var d=Promise.resolve();var c=arguments;(this.a[a]||[]).forEach(function(a){d=d.then(function(){var b=a.call.apply(a,
c);return!1===b?Promise.reject():b})});d["catch"](function(){});return d}};"function"===typeof define&&define.a?define(function(){return c}):"object"===typeof exports&&(module.exports=c)}).call(this);